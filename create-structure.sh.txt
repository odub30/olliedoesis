#!/bin/bash

# Portfolio Complete File Structure Creation Script
# Skips files that already exist

cd /c/olliedoesis

echo "Creating complete portfolio file structure..."
echo "Files that already exist will be skipped."
echo ""

# Function to create file only if it doesn't exist
create_if_missing() {
    if [ ! -f "$1" ]; then
        touch "$1"
        echo "✓ Created: $1"
    else
        echo "⊘ Skipped (exists): $1"
    fi
}

# Function to create directory only if it doesn't exist
create_dir_if_missing() {
    if [ ! -d "$1" ]; then
        mkdir -p "$1"
        echo "✓ Created directory: $1"
    fi
}

# Create directory structure
echo "Creating directories..."
create_dir_if_missing ".github/workflows"
create_dir_if_missing "public/images/projects"
create_dir_if_missing "public/images/screenshots"
create_dir_if_missing "public/images/og"
create_dir_if_missing "public/schemas"
create_dir_if_missing "src/app/api/contact"
create_dir_if_missing "src/app/api/github"
create_dir_if_missing "src/app/api/projects"
create_dir_if_missing "src/app/api/search"
create_dir_if_missing "src/app/api/sitemap"
create_dir_if_missing "src/app/projects/[slug]"
create_dir_if_missing "src/app/about"
create_dir_if_missing "src/app/contact"
create_dir_if_missing "src/components/ui"
create_dir_if_missing "src/components/layout"
create_dir_if_missing "src/components/sections"
create_dir_if_missing "src/components/features/github"
create_dir_if_missing "src/components/features/cms"
create_dir_if_missing "src/data/projects"
create_dir_if_missing "src/lib"
create_dir_if_missing "src/hooks"
create_dir_if_missing "src/types"
create_dir_if_missing "src/styles"
create_dir_if_missing "content/drafts"

echo ""
echo "Creating files..."

# Public files
create_if_missing "public/images/avatar.jpg"
create_if_missing "public/schemas/person.json"
create_if_missing "public/schemas/website.json"
create_if_missing "public/schemas/portfolio.json"
create_if_missing "public/apple-touch-icon.png"
create_if_missing "public/robots.txt"
create_if_missing "public/sitemap.xml"

# GitHub workflows
create_if_missing ".github/workflows/deploy.yml"

# App files
create_if_missing "src/app/api/contact/route.ts"
create_if_missing "src/app/api/github/route.ts"
create_if_missing "src/app/api/projects/route.ts"
create_if_missing "src/app/api/search/route.ts"
create_if_missing "src/app/api/sitemap/route.ts"
create_if_missing "src/app/projects/page.tsx"
create_if_missing "src/app/projects/[slug]/page.tsx"
create_if_missing "src/app/about/page.tsx"
create_if_missing "src/app/contact/page.tsx"
create_if_missing "src/app/loading.tsx"
create_if_missing "src/app/not-found.tsx"
create_if_missing "src/app/sitemap.ts"
create_if_missing "src/app/robots.ts"
create_if_missing "src/app/opengraph-image.tsx"

# UI Components
create_if_missing "src/components/ui/Button.tsx"
create_if_missing "src/components/ui/Card.tsx"
create_if_missing "src/components/ui/Modal.tsx"
create_if_missing "src/components/ui/LoadingSpinner.tsx"

# Layout Components
create_if_missing "src/components/layout/Header.tsx"
create_if_missing "src/components/layout/Footer.tsx"
create_if_missing "src/components/layout/Navigation.tsx"
create_if_missing "src/components/layout/PageContainer.tsx"
create_if_missing "src/components/layout/PageHeader.tsx"

# Section Components
create_if_missing "src/components/sections/Hero.tsx"
create_if_missing "src/components/sections/About.tsx"
create_if_missing "src/components/sections/Projects.tsx"
create_if_missing "src/components/sections/Contact.tsx"
create_if_missing "src/components/sections/HeroWithStats.tsx"
create_if_missing "src/components/sections/AboutPreview.tsx"
create_if_missing "src/components/sections/ProjectsPreview.tsx"

# Feature Components
create_if_missing "src/components/features/github/RepoCard.tsx"
create_if_missing "src/components/features/github/GitHubStats.tsx"
create_if_missing "src/components/features/cms/SimpleEditor.tsx"
create_if_missing "src/components/features/projects/ProjectCard.tsx"

# Data files
create_if_missing "src/data/projects/portfolio-website.md"
create_if_missing "src/data/personal-info.ts"
create_if_missing "src/data/site-config.ts"

# Lib files
create_if_missing "src/lib/utils.ts"
create_if_missing "src/lib/validations.ts"
create_if_missing "src/lib/constants.ts"
create_if_missing "src/lib/metadata.ts"
create_if_missing "src/lib/search.ts"
create_if_missing "src/lib/structured-data.ts"

# Hooks
create_if_missing "src/hooks/useLocalStorage.ts"
create_if_missing "src/hooks/useSearch.ts"

# Types
create_if_missing "src/types/index.ts"

# Styles
create_if_missing "src/styles/components.css"

# Config files
create_if_missing "vercel.json"
create_if_missing ".env.example"

echo ""
echo "✅ File structure creation complete!"
echo ""
echo "Summary:"
echo "- All missing directories have been created"
echo "- All missing files have been created as empty files"
echo "- Existing files were left untouched"
echo ""
echo "Next steps:"
echo "1. Fill in the empty files with appropriate code"
echo "2. Update .env.local with your credentials"
echo "3. Add content to markdown files"
echo "4. Test with: npm run dev"